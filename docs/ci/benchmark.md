# Benchmark {#CI_Benchmark}

[TOC]

## Compile time
The following benchmarks measure only how long it took to compile. You can find these benchmarks in [benchmark/compiletime](https://github.com/Tsche/repr/tree/master/benchmark/compiletime).

These tests are generated by running clang with `-ftime-trace` and processing the resulting tracing file using the [palgen](https://github.com/palliate/palgen) extension [tools/benchmark.py](https://github.com/Tsche/repr/tree/master/tools/benchmark.py) (check documentation [here](@ref benchmark.py)). 

### Enum
#### Access individual enumerator names

#### All enumerator names
![frappe-chart enum_names](https://raw.githubusercontent.com/wiki/Tsche/repr/enum/b668e355_chart.json)
```json
datatable enum_names_data
{
    "columns": [
      {
        "className": "dt-control",
        "orderable": false,
        "data": null,
        "defaultContent": ""
      },
      {"title": "Commit", "data": "commit"}, 
      {"title": "Timestamp", "data": "timestamp"}, 
      {"title": "Recursive", "data": "results.recursive"},
      {"title": "Chunked", "data": "results.chunked"},
      {"title": "Chunked Variadic", "data": "results.chunked_pack"},
      {"title": "magic_enum", "data": "results.magic_enum"}
    ],
    "data": "https://raw.githubusercontent.com/wiki/Tsche/repr/enum/b668e355.json",
    "autoWidth": false
}
```

![frappe-chart enum_name](https://raw.githubusercontent.com/wiki/Tsche/repr/enum/6b47c796_chart.json)
```json
datatable enum_name_data
{
    "columns": [
      {
        "className": "dt-control",
        "orderable": false,
        "data": null,
        "defaultContent": ""
      },
      {"title": "Commit", "data": "commit"}, 
      {"title": "Timestamp", "data": "timestamp"}, 
      {"title": "Recursive", "data": "results.recursive"},
      {"title": "Chunked", "data": "results.chunked"},
      {"title": "Chunked Variadic", "data": "results.chunked_pack"},
      {"title": "magic_enum", "data": "results.magic_enum"}
    ],
    "data": "https://raw.githubusercontent.com/wiki/Tsche/repr/enum/6b47c796.json"
}
```

@htmlonly
<script type="text/javascript">
  function commit_details(row, group) {
    console.log(row.results);
    const detail_url = `https://raw.githubusercontent.com/wiki/Tsche/repr/commits/${row.commit}/${group}`;
    let buffer = `
        <dt>Commit:</dt>
        <dd><a href="https://github.com/Tsche/repr/commit/${row.commit}">${row.commit}</a></dd>`;

    for (const result in row.results) {
      const trace_url = `${detail_url}/${result}_trace.json`;
      buffer += `
      <dt>${result}:</dt>
      <dd><a href="${trace_url}" target="_blank" rel="noopener noreferrer">Raw trace</a></dd>
      <dd><a href="${detail_url}/${result}.json" target="_blank" rel="noopener noreferrer">Summary</a></dd>
      <dd>
        <a href="https://www.speedscope.app/#profileURL=${escape(trace_url)}&title=${escape(result)}" target="_blank" rel="noopener noreferrer">
          View in speedscope
        </a>
      </dd>
      `;
    }
    return `<dl>${buffer}</dl>`;
  }
  
  DoxygenAwesomeTables.detailHandler("enum_names_data", (row) => { 
    return commit_details(row, "enum")
  });
  DoxygenAwesomeTables.linkChart("enum_names", "enum_names_data", "commit");

  DoxygenAwesomeTables.detailHandler("enum_name_data", (row) => { 
    return commit_details(row, "enum")
  });
  DoxygenAwesomeTables.linkChart("enum_name", "enum_name_data", "commit");
</script>
@endhtmlonly


## Runtime
The following benchmarks use [Google Benchmark](https://github.com/google/benchmark/) to measure runtime performance. You can find these tests in [benchmark/runtime](https://github.com/Tsche/repr/tree/master/benchmark/runtime).